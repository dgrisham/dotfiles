# Locale
export LANG=en_US.UTF-8

# ls colors for FreeBSD
export LSCOLORS='GaGxxxdxcxegedabagacad'

# Terminal
[[ $TMUX = "" ]] && export TERM='xterm-256color'

# Wifi card
export WIFI_CARD="wlan0"

# Bin
export BIN="$HOME/bin"
export PATH="$PATH:$BIN"
## Stack (Haskell)
export PATH="$PATH:$HOME/.local/bin"

# Directories
export DOTFILES="$HOME/dotfiles"
export DOWNLOADS="$HOME/downloads"
export SRC="$HOME/src"
export PERSONAL="$HOME/personal"
export MEDIA="$HOME/media"
export MUSIC="$MEDIA/music"
export WORK="$HOME/work"
export SCRATCH="$HOME/scratch"
## XDG
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CONFIG_HOME="$DOTFILES"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_DOWNLOAD_DIR="$DOWNLOADS"
export XDG_DESKTOP_DIR="/dev/null"
export XDG_RUNTIME_DIR="/tmp"

# Alias files
export LOCAL_ALIAS="$DOTFILES/zsh/aliases"
export GLOBAL_ALIAS="$DOTFILES/etc/zsh/aliases"

# Defaults
export EDITOR="kak"
export VISUAL="$EDITOR"
export VIEWER="mupdf"
export BROWSER="w3m"
export PUBLISHER="git"
export PLAYER="mpv"

### open fbterm/x automatically, depending on tty
virtual_terminal="$( tty | grep -oE ....$ )"
case "$virtual_terminal" in
    tty1|tty2)
        startx
        # if ! startx; then
        #     current=$(ls -l /etc/X11/xorg.conf | rev | cut -f1 -d' ' | cut -f1 -d'.' | rev)
        #     if [[ "$current" = 'discrete' ]]; then
        #         sudo ln -sf /etc/X11/xorg.conf.hybrid /etc/X11/xorg.conf
        #         startx
        #     elif [[ "$current" = 'hybrid' ]]; then
        #         sudo ln -sf /etc/X11/xorg.conf.discrete /etc/X11/xorg.conf
        #         startx
        #     fi
        # fi
    ;;
    tty3|tty4)
        fbterm-bi "$MEDIA/pictures/backgrounds/current_bg" -- zsh -c 'TERM=fbterm tmux'
    ;;
    tty5|tty6)
        fbterm-bi "$MEDIA/pictures/backgrounds/current_bg" -- zsh -c "TERM=fbterm ssh_login"
    ;;
esac

