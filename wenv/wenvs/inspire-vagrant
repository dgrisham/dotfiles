#!/usr/bin/env zsh

wenv_def() {
    WENV_DIR="$SRC/inspire/vagrant"
    WENV_DEPS=()
    WENV_PROJECT=''
    WENV_TASK=''
    WENV_EXTENSIONS=('ssh-agent')

    startup_wenv() {
        ssh_agent start
        vagrant up inspirefitness || vagrant provision inspirefitness
        sshfs vagrant:/home/vagrant /mnt/vm
    }
    shutdown_wenv() {
        vagrant halt inspirefitness
        ssh_agent stop
    }
    bootstrap_wenv() {}
}

vagrant_run() {
    wenv cd inspire-vagrant
    monitor git "vagrant ssh inspirefitness -- -t '$@'"""
}
alias vrun='vagrant_run'

export GITLAB_PRIVATE_KEY="$HOME/.ssh/git"
export HOST_PRIVATE_KEY="$HOME/.ssh/vm-inspire"

# for c extension
# declare -Ag wenv_dirs=()

# for edit extension
# declare -Ag wenv_files=()
